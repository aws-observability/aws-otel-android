{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "software.amazon.opentelemetry.android.config",
  "title": "AwsAgentConfig",
  "description": "AWS Opentelemetry Android Configuration",
  "type": "object",
  "required": ["rum", "application"],
  "additionalProperties": false,
  "properties": {
    "version": {
      "description": "Version of this schema",
      "const": "1.0.0",
      "type": "string"
    },
    "rum": {
      "required": ["region", "appMonitorId"],
      "additionalProperties": false,
      "description": "Configuration for RUM",
      "type": "object",
      "properties": {
        "region": {
          "description": "AWS region",
          "type": "string"
        },
        "appMonitorId": {
          "description": "App Monitor ID",
          "type": "string"
        },
        "alias": {
          "description": "Adds an alias to all requests. This is compared against the rum:alias service context in AppMonitors with resource based policies attached",
          "type": "string"
        },
        "sessionInactivityTimeout": {
          "description": "The maximum duration, in seconds, that a session can be inactive for before a new session is created",
          "type": "integer",
          "default": 300
        },
        "enabledTelemetry": {
          "description": "The types of RUM telemetry you wish to collect on your application.",
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": ["activity", "anr", "crash", "fragment", "network", "slow_rendering", "startup", "http_urlconnection", "okhttp_3.0", "ui_load"]
        },
        "addonFeatures": {
          "description": "Add-on features you wish to explicitly enable to enrich collected telemetry",
          "item": "array",
          "items": {
            "type": "string"
          },
          "default": ["attribute:user.id"]
        },
        "overrideEndpoint": {
          "type": "object",
          "properties": {
            "logs": {
              "type": "string",
              "description": "Endpoint for the logs exporter"
            },
            "traces": {
              "type": "string",
              "description": "Endpoint for the traces exporter"
            }
          }
        }
      }
    },
    "application": {
      "required": ["applicationVersion"],
      "description": "Application specific settings",
      "type": "object",
      "properties": {
        "applicationVersion": {
          "description": "Application Version",
          "type": "string"
        }
      }
    }
  }
}